# 스프링 시리티 초기화 과정 이해
## 의존성 추가
```groovy
dependencies {
	implementation 'org.springframework.boot:spring-boot-starter-security'
	testImplementation 'org.springframework.security:spring-security-test'
}
```


## 자동 설정에 의한 기본 보안 작동
서버가 가동되면 스프링 시큐리티의 초기화 작업 및 보안 설정이 이루어진다. 별도의 설정이나 코드를 작성하지 않아도 기본적인 웹 보안 기능이 현재 시스템에 연동되어 작동한다.

* 기본적으로 모든 요청에 대하여 인증여부를 검증하고 인증이 승인되어야 자원에 접근이 가능하다.
* 인증 방식은 폼 로그인 방식과 httpBasic 로그인 방식을 제공한다.
* 인증을 시도할 수 있는 로그인 페이지가 자동적으로 생성되어 렌더링 된다.
* 인증 승인이 이루어질 수 있도록 한 개의 계정이 기본적으로 제공된다.
	* SecurityProperties 설정 클래스에서 생성
	* username : user
	* password : 랜덤 문자열

`SpringBootWebSecurityConfiguration`은 자동 설정에 의한 기본 보안 설정 클래스를 생성하는 클래스다.
```java
@Configuration(proxyBeanMethods = false)  
@ConditionalOnWebApplication(type = Type.SERVLET)  
class SpringBootWebSecurityConfiguration {  
  
  @Configuration(proxyBeanMethods = false)  
    @ConditionalOnDefaultWebSecurity  
    static class SecurityFilterChainConfiguration {  
  
       @Bean  
       @Order(SecurityProperties.BASIC_AUTH_ORDER)  
       SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {  
          http.authorizeHttpRequests((requests) -> requests.anyRequest().authenticated());  // 모든 자원에 대해 인증 받아야 한다.
          http.formLogin(withDefaults()); // formLogin 인증 방식을 제공한다. 
          http.httpBasic(withDefaults()); // httpBasic 인증 방식을 제공한다.
          return http.build();  
       }  
  
    }  
  
	@Configuration(proxyBeanMethods = false)  
    @ConditionalOnMissingBean(name = BeanIds.SPRING_SECURITY_FILTER_CHAIN)  
    @ConditionalOnClass(EnableWebSecurity.class)  
    @EnableWebSecurity  
    static class WebSecurityEnablerConfiguration {  
  
    }  
  
}
```