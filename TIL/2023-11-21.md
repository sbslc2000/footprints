# 1일1PS
 * 문제 이름 : 올림픽
 * 링크 : [8979번: 올림픽](https://www.acmicpc.net/problem/8979)
 * 풀이 : [1121 · sbslc2000/MyPsChallenge@ee4365e · GitHub](https://github.com/sbslc2000/MyPsChallenge/commit/ee4365e3e4f8d2aa5ba06dbc8a2a630f86248706#diff-94551a7032770a451cfba65a08998e92479b8c4495baff3df8dce28b9c1f238b)

결국 Merge Sort의 안정성을 보장하는 방법은 merge 메서드에서 동등한 값 비교시 어떤 배열에서 값을 가져와야할지를 결정해줘야 함.

# Spring Data JPA

# Spring Data JPA란?

Spring DATA는 여러 프로젝트의 묶음이다.

![](https://i.imgur.com/imA5Sd4.png)

다양한 저장 방식을 지원하는 공통적인 역할을 하는게 스프링 데이터 COMMON이 있으며, 이곳에 Repository를 빈으로 등록하거나 쿼리 메서드를 만드는 매커니즘이 들어있다. COMMON에 대해 잘 이해하고 있으면 다른 저장 방식을 사용하는 기술을 사용하더라도 빠르게 익힐 수 있다.

스프링 데이터 REST는 저장소에서 관리하는 데이터를 Hypermedia 기반의 HTTP 리소스로 데이터를  손쉽게 제공해주는 기능을 한다.

스프링 데이터 JPA는 여러 저장소 관련된 기능 중 하나이며 JPA와 관련된 기능들이 추가되어있다.

[Spring Data](http://projects.spring.io/spring-data/)

# Spring Data Common
## Repository
![](https://i.imgur.com/kuIu6sB.png)

JpaRepository는 Spring Data JPA에서 제공하는 인터페이스로, Spring Data Common이 제공하는 PagingAndSortingRepository를 상속한다.

가장 상위의 Repository 인터페이스는 실질적인 기능을 하지는 않고, 이것을 상속한 클래스가 레포지토리 역할을 한다는 의미만 제공한다 -> Marker Repository

@NoRepositoryBean 애노테이션은 해당 클래스의 빈이 사용자에 의해서 직접 등록되지 않도록 막아주는 역할을 한다.

CrudRepository부터는 기능을 제공한다. `save`, `saveAll`, `findById`, `existsById`, `findAll`, `findAllById`, `count`, `deleteById`, `delete` 와 같은 CRUD 기능을 제공한다.

@DataJpaTest 는 스프링부트의 기능으로, Data Access Layer만 테스트할 수 있게 해준다. 이 때에는 다른 빈들은 등록이 안되며, Repository와 관련된 빈들만 생성이 된다.

@DataJpaTest 애노테이션은 @Transactional 애노테이션의 합성 애노테이션이다. 따라서 매번 롤백이 수행되므로 Insert 쿼리가 수행되지 않는 것이 기본이다 (Hibernate의 쿼리 지연). 이러한 상황은 테스트를 어렵게 만들 수 있다.

이 경우 Insert 쿼리를 보고 싶다면 테스트 메서드에 @Rollback(false) 애노테이션을 사용해줄 수 있다.

PagingAndSortingRepository에서는 findAll의 파라미터로 PageRequest와 Sort를 담아 전송할 수 있다.

Page 객체의 size 속성은 요청 시 한 페이지에 담을 개수를 의미하며, numberOfElements는 실제로 해당 페이지에 들어온 요소의 개수를 의미한다.

