---
상위 링크: "[[IP]]"
---
# CIDR

## 주소 체계의 한계
CIDR이 채택되기 전에는 IP 주소의 네트워크 부분을 8, 16, 24비트로 제한했고, 이들을 각각 A, B, C Class 네트워크로 분류했다. 하지만 서브넷 부분이 정확히 1, 2, 3 바이트여야 한다는 요구사항은 중소형 크기의 네트워크로 급속히 증가하는 기관의 수를 지원하기에는 문제가 있었다.

클래스(/24) 서브넷은 254개의 호스트 식별자를 제공하니 호스트가 많은 조직을 위해서는 턱없이 부족하다. 따라서 클래스(/16) 서브넷을 할당받아야 하지만, 이는 65,634 개의 호스트 식별자를 제공하므로 지나치게 크다. 만약 2000개의 호스트가 필요한 서브넷이 Class B의 주소를 받게된다면, 60,000개나 넘는 주소가 낭비되게 된다.

## 핵심 원리
CIDR(Classless InterDomain Routing, '사이다'로 발음)이란 IP 주소 지정의 비효율성을 줄이고 라우팅 시스템의 확장성을 높이기 위해 개발된 인터넷 주소 할당 전략이다. 이는 서브넷 주소 지정의 개념을 일반화한 것으로, 주소의 클래스(Class A, B, C)의 엄격한 경계를 없앴다.

CIDR는 32비트의 IP 주소를 두 부분으로 나누고 이를 a.b.c.d/x로 표현한다. x는 주소 첫 부분의 비트 수이다.

a.b.c.d/x 형식 주소에서 최상위 비트(most siginificant bit, MSB)를 의미하는 x는 IP 주소의 네트워크 부분을 구성한다. 이를 해당 주소의 프리픽스(prefix) 또는 네트워크 프리픽스라고 부른다. 한 기관은 통산 연속적인(공통 프리픽스를 갖는 주소 범위) 주소의 블록을 할당받으며, 기관 장비들의 IP 주소는 공통 프리픽스를 공유한다. 

외부 기관의 라우터는 목적지 주소가 내부 기관인 데이터그램을 전달할 때, 단지 앞의 x 비트만 고려한다. a.b.c.d/x 형태의 하나의 엔트리만으로 기관 목적지로 패킷을 전달하는데 충분하므로, 이런 라우터들에서 포워딩 테이블의 크기를 상당히 줄여준다.

주소의 나머지 32-x개의 비트들은 기관 내부에 같은 네트워크 프리픽스를 갖는 모든 장비를 구별한다고 보면 된다. 이 비트들은 기관 내부의 라우터에서 패킷을 전달할 때 사용된다. 

이 하위 비트들은 앞서 언급한 것 처럼 추가 서브넷 구조를 가질 수도 있다. 예를 들어, CIDR식 주소 a.b.c.d/21의 첫 21비트는 기관의 네트워크 프리픽스를 나타내며 이 기관의 모든 장비의 IP 주소에 공통이라고 하자. 기관의 내부 구조가 이 최하위 11비트들 중 일부를 기관 내부의 서브넷을 위해 사용할 수 있다. 예를 들면 a.b.c.d/24는 기관 내부의 특정한 서브넷을 나타낼 수도 있다.
