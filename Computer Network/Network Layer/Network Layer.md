---
상위 링크: "[[../terminologies/OSI/OSI 7 Layers|OSI 7 Layers]]"
---
# Network Layer
네트워크 계층은 서로 다른 호스트들 간의 데이터 전/수송을 책임지는 계층이다. 네트워크 계층의 중요한 기능 두 가지는 포워딩과 라우팅이다.

## Forwarding
포워딩이란 패킷이 라우터의 입력 링크에 도달했을 때, 라우터 내부에서 그 패킷을 적절한 출력 링크로 이동시키는 것을 말한다. 이는 패킷 헤더의 필드값을 조사하고, 이 값을 포워딩 테이블의 헤더 값으로 사용하여 적절한 출력 링크를 찾아 전달하는 과정으로 이루어진다.

매우 짧은 시간(보통 몇 나노초)를 갖기에, 하드웨어의 지원을 받아 실행된다.

## Routing
패킷의 경로를 결정하는 것을 의미한다. 라우팅 알고리즘은 각 라우터의 포워딩 테이블(forwarding table)을 생성한다. 

### 라우터 별 제어
![](https://i.imgur.com/jg5rrH4.png)

라우팅 알고리즘들이 모든 라우터에서 각각 동작하여 주고받은 정보들을 바탕으로 포워딩 테이블을 계산할 수 있다. 라우터 별 제어 방식은 인터넷에서 수십 년 동안 사용되어왔다. OSPF와 BGP 프로토콜은 라우터 별 제어 방식을 기반으로 한다.

### 논리 중앙 집중형 제어
![](https://i.imgur.com/5mVeixU.png)
논리 중앙 집중형 제어는 논리적 중앙 집중형 컨트롤러가 포워딩 테이블을 작성하고 이를 모든 개별 라우터가 사용할 수 있도록 배포하는 방식이다. 컨트롤러는 잘 정의된 프로토콜을 통해 각 라우터의 제어 에이전트(control agent, CA)와 상호작용하여 라우터의 플로우 테이블을 구성 및 관리한다. 이 때 각 라우터의 CA들은 서로 상호작용하지 않는다!!

> [!info] 
> '논리적' 중앙 집중형 컨트롤러인 이유는 컨트롤러 기기가 여러개로 구성되기 때문이다. 하지만 각 CA들은 이를 인식하지 못한다.

구글 데이터 센터를 사옿 연결하는 내부 B4 글로벌 광역 네트워크 라우터, 마이크로소프트 리서치의 SWAN은 논리 중앙 집중형 제어 방식을 사용한다.