---
상위 개념: "[[Intra-AS Routing]]"
---
# Open Shortest Path First
개방형 최단 경로 우선(Open shortest path first, OSPF) 라우팅은 AS 내부 라우팅에 널리 사용되는 AS 내부 라우팅 프로토콜이다. OSPF는 링크 상태를 플러딩(flooding)하고 **다익스트라 최소 비용** 경로 알고리즘을 사용하는 링크 상태 알고리즘이다.

> [!info]
> OSPF의 'open'은 라우팅 프로토콜의 작동 방식이 공개되어있음을 의미한다.

## OSPF 링크 가중치
OSPF를 사용하기 위해서 내부 링크의 비용을 산정해야하며, 이는 네트워크 관리자가 구성한다. 네트워크 관리자는 모든 링크 비용을 1로 설정함으로써 최소 홉 라우팅이 이루어지게 하거나, 적은 대역폭을 가진 링크 사용을 억제하기 위해 링크 용량에 반비례하게 링크 가중치를 설정할 수 있다. OSPF는 링크 가중치의 설정 방법을 강제하지 않으며, 네트워크 관리자의 역할로 남겨두었다.

## OSPF Message
OSPF를 사용하는 라우터는 인접한 라우터만이 아니라 자율 시스템의 다른 모든 라우터에게 라우팅 정보를 브로드캐스팅한다. 링크 상태가 변경되었을 때(비용의 변경, 단절 등) 변경 사항을 전달하며, 변경이 없더라도 적어도 30분에 한 번씩은 링크 상태를 브로드캐스팅하여 알고리즘에 견고성을 더한다.

링크의 정보를 교환하는 OSPF 메시지는 IP 프로토콜에 의해 전달되며, 상위 계층 프로토콜 번호로는 89를 갖는다. 따라서 OSPF 프로토콜은 신뢰할 수 있는 메시지 전송과 브로드캐스트와 같은 기능을 직접 구현해야 한다.

## 보안
OSPF 라우터들 간의 정보교환은 인증될 수 있다. AS 내부의 라우터들은 평문 패스워드를 사용하는 단순 인증이나 MD5 기반 암호화 인증을 수행할 수 있다. 이는 외부의 라우터나 장난스러운 개발자들에 의해 AS의 라우팅 테이블이 영향받는 것을 막기 위함이다.

## 복수 동일 비용 경로
하나의 목적지에 대해 동일한 비용을 가진 여러 개의 경로가 존재할 때 OSPF는 여러개의 경로를 사용하게 한다. 

## 계층 지원
OSPF의 자율 시스템은 계층적인 영역(area)로 구성된다. 각 영역에는 영역 경계 라우터(area border router)가 있어서 다른 영역으로의 패킷 라우팅을 책임진다.

