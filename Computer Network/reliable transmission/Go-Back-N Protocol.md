---
상위 개념: "[[Reliable Transmission]]"
---
# Go-Back-N Protocol, GBN
![zhNZ1RT.png](https://i.imgur.com/zhNZ1RT.png)
Go-Back-N 프로토콜은 신뢰성 있는 전송을 위한 프로토콜이다. stop-and-wait 방식은 원시적인 신뢰성 있는 전송 방식으로 ACK과 패킷 번호 등의 개념의 필요성을 느끼게 해주지만, 굉장히 낮은 효율성을 보인다. Go-Back-N 프로토콜은 기존의 패킷에 ACK 응답을 받지 않았더라도 다음 패킷을 보내는 방법(파이프라이닝)으로 네트워크 효율성을 증대시킨다.



![](https://i.imgur.com/OkdlRkU.png)

GBN은 ACK을 받지 않은 상태의 패킷을 최대 N개 까지 유지하며, ACK을 받는다면 허용치에 여유가 생기므로 다음 패킷을 전송한다.

GBN은 가장 먼저 발송한 패킷의 타임아웃을 유지한다. 타임아웃이 발생한다면, 해당 패킷의 전송에 실패한 것으로 간주하고, 다시 해당 지점으로 돌아가 전송을 시작한다. 위 예시에서는 패킷 2의 전송에 실패하였으므로, 과거로 돌아가 패킷 2부터 3, 4, 5를 전송함을 확인할 수 있다.

수신측에서는 수신에 실패한 패킷 이후에 들어오는 패킷(out-of-order packet)에 대해서 버퍼에 저장할 필요가 없다(저장 해도 되지만). 수신측은 항상 패킷을 수신하고 나면 CACK을 보냄으로 송신자에게 아직 받지못한 패킷의 정보를 알려준다. 

물론 위 내용은 뒤로 돌아가서 전송을 다시 시작하는 핵심 내용을 제외하고는 많은 내용이 바뀔 수 있다. 구현에 따라서 수신측은 버퍼에 out-of-order packet을 저장하여 애플리케이션 레이어에 더 이른 시간에 데이터를 제공할 지도 모른다.
