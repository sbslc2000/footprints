---
상위 개념: "[[Linux Process Scheduler]]"
---
# Completely Fair Scheduling
완전 공정 스케줄링(Completely Fair Scheduling, CFS)는 각 프로세스에 프로세서 시간을 공정한 비율로 배분하는 리눅스의 기본 스케줄링 정책이다.

CFS는 프로세스마다 고정된 타임슬라이스를 할당하는 대신, 실행 가능한 프로세스의 개수를 함수로 삼아 프로세스가 얼마나 오래 실행되어야 하는지를 계산한다. 전체 프로세서 시간에서 각 프로세스가 프로세서를 사용할 수 있는 비율을 결정하게 되는 것이다. 이 과정은 nice 값에 따라 더 많은 시간을 할당 받을 수도 있고, 더 적은 시간을 할당받을 수도 있다.

CFS는 목표 지연 시간(target latency)를 유지한다. 목표 지연 식나이란 현재 실행 가능한 모든 태스크가 한 번씩은 실행될 수 있도록 보장하는 전체 주기 시간을 의미한다. 예를 들어 목표 지연 시간이 20ms이고, nice 값이 0으로 동일한 서로 다른 두 프로세스가 존재한다면, 이들은 10ms 씩을 할당받게 된다.

만약 서로 다른 nice 값을 가지는 경우 이들은 서로 다른 시간을 할당받는다. 하나는 기본 nice 값인 0을, 나머지 하나는 5를 가지고 있다고 하자. 이 경우 nice 5 프로세스에는 약 1/3의 페널티가 적용되어, 두 프로세스는 15ms와 5ms를 각각 할당받게 된다.

실행 가능한 태스크가 많아질수록 배정되는 프로세서 비율은 0에 가까워 진다. 이는 수용 불가능할 정도의 문맥 전환 비용을 초래하므로, CFS는 각 프로세스에 할당되는 타임슬라이스에 하한선을 둔다. 이 하한선을 최소 세분성(minimum granularity)라고 하며, 기본 값은 1ms이다.


