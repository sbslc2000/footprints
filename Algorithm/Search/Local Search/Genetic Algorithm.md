---
상위 개념: "[[Local Search]]"
---
# Genetic Algorithm
유전 알고리즘(Genetic Algorithm)이란 생물학의 진화 프로세스를 차용한 탐색 알고리즘이다.

생물학의 진화 프로세스는 다음과 같은 과정을 거친다.

1. 미래 세대(future generation)을 구성하는 개체들은 경쟁(competition)을 통한 적자생존(selection)에 승리한 개체로부터 구성된다.
2. 진화 과정에서 돌연변이가 발생할 수 있다.

유전 알고리즘은 여러 개의 최초 상태 솔루션들로부터 시작하여, 이들을 평가하여 승리한 해로부터 자손(offspring) 해를 만들어낸다. 자손 해들은 새로운 세대로서, 다시금 경쟁하고 자손을 만들거나 도태된다. 이 과정에서 돌연변이를 통해 더욱 더 넓은 탐색 공간을 검사하도록 한다.

A* Search는 고성능의 휴리스틱 함수를 요구한다. SA와 같은 알고리즘은 문제에 특수한 변환 로직에 따라 성능이 좌우될 수 있다. 하지만 유전 알고리즘은 이러한 것들에 대해 크게 고민할 필요가 없다. 부모를 자르고, 접합하여 자식을 만들어내는 변환 방식은 거의 모든 문제에 대해 사용될 수 있다. 이러한 입장에서 유전 알고리즘은 "Swiss Army Knife Algorithm(맥가이버칼, 만능)"이라고도 부른다.

## Pseudo Code
```
begin 
	t = 0
	initialize P(t) // population=set
	evaluate P(t)
	while (not termination-condition) do 
	begin
		t = t + 1 // next generation
		select P(t) from P(t-1) // 좋은 부모 선택
		alter P(t)
		evaluate P(t)
	end
end
```

## Variation and Selection
유전 알고리즘에서 솔루션의 집합(polpulation)은 variation과 selection의 단계를 반복하며 진화해나간다.

1. Variation: 새로운 솔루션을 탐색하는 매커니즘이다. 
	a. crossover : 두 개 (또는 그 이상)의 부모 해를 섞어 새로운 자손 생성. 이는 생물의 교배에서 따온 것이다.
	b. mutation : 한 개의 해(individual)을 임의로 약간 변형. 이는 생물의 돌연변이에서 따온 것이며, 해의 다양성을 유지하는데에 도움을 준다.
2. Selection: 어떤 해들이 다음 세대를 이어나갈지 결정하는 과정이다.

%%
## PMX(Partially Mapped Crossover)
많은 지역 탐색 알고리즘은 변환 과정을 잘 만드는 것이 중요하지만, 유전 알고리즘은 그렇지 않다. 유전 알고리즘은 단순히 부모 솔루션의 부분 집합 (or 부분 순서)을 섞어서 자식 솔루션을 만드는 교배 방식을 사용할 수 있다.

예를 들어 Gen. 1에서 가장 평가값이 높은 두 솔루션이 다음과 같다고 하자.

	P1 : [ 0 4 2 3 3 ]
	P2 : [ 0 3 2 3 4 ]

이 두 솔루션은 다음과 같이 컷포인트를 설정할 수 있다.

	P1 : [ 0 4 2 | 3 3 ]
	P2 : [ 0 3 2 | 3 4 ]

이후 이들은 각 부분을 서로 교체함으로써 자손을 만들어낼 수 있다.

	C1 : [ 0 4 2 | 3 4 ]
	C2 : [ 0 3 2 | 3 3 ]
%%

## Selection
선택의 목표는 현재 세대(Current Population)의 개체들을 그들의 품질(Quality), 즉 적합도(Fitness)에 기반하여 다음 세대의 부모로 결정하는 것이다.

### Elimination without Replacement
비복원 추출은 적합도가 높은 개체를 다음 세대의 부모로 한 번씩만 선택하는 방식이다. 전체 모집단에서 부모가 될 개체를 하나 뽑으면, 그 개체는 다시 뽑힐 수 있는 후보군에서 제외된다. 즉 한 개체는 최대 한 쌍의 자손을 만드는 데만 기여할 수 있다.

이는 동일한 우수 개체가 과도하게 번식하는 것을 방지하여 유전적 다양성(Genetic Diversity)를 유지하는 데 도움이 된다.

### Sampling with Replacement
복원 추출은 적합도가 높은 개체를 다음 세대의 부모로 여러 번 선택할 수 있는 방식이다. 

개체가 한 번 부모로 선택된 후에도, 다시 후보군에 포함되어 재차 선택될 수 있다. 경우에 따라서는 자식의 자식과도 교배를 수행할 수 있다. 물론 이는 근친 교배(inbreeding)이라 불리며, 적합도가 높은 유전자가 빠르게 고착화되어 유전적 다양성을 감소시키고 지역 최적해에 빠질 위험을 높인다.

### Stochastic Selection
선택에 확률을 도입하여, 경우에 따라 나쁜 자손도 번성하게 만드는 방법이다. 지역 최적해의 문제를 해결하는데에 도움이 된다.


## 장점과 단점
다음 문제를 생각해보자.

Q: 다음 함수를 최대화하는 x를 찾으시오.
$$f(x) = -\frac{x^2}{10} + 3x$$


문제를 해결하는 첫 번째 방법은 미분하는 것이다. 이 방법은 확실하지만 몇가지 문제점이 있다.

1. 만약 함수가 미분 불가능했다면, 문제를 해결할 수 없다.
2. 만약 함수가 매우 고차함수이거나, 여러개의 변수를 담고 있는다면 계산량이 매우 늘어 현실 시간 내에 풀 수 없다.

이러한 문제에 봉착했다면 유전 알고리즘을 사용할 수 있다. 이는 최적해를 보장하지는 않지만, 현실 시간 내에 해를 제공해줄 수 있다.

유전 알고리즘은 거의 모든 문제 유형을 푸는데 사용될 수 있다. 하지만 다른 알고리즘에 비하여 매우 느리고, 매번 솔루션 여러개를 다루기에 메모리 사용량이 높다는 단점이 있다.

## 의사결정 할 것

1. Representation : 해를 어떻게 표현할 것인가? 이는 해 간 교배하는 로직을 결정하기에 매우 중요하다.
2. Evaluation : 각 해의 매력도를 어떻게 평가할 것인가?
3. Selection: 부모 중 상위 몇 개를 교배에 포함시킬 것인가? 한 번 교배한 부모는 교배에 다시 참여할 수 있는가? 확률에 따라 나쁜 해도 포함시킬 것인가?
4. Variation: 언제, 어떻게 돌연변이를 발생시킬 것인가?