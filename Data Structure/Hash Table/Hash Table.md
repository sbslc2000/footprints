---
상위 링크: "[[Data Structure]]"
---
# Hash Table
Hash Table은 원소가 저장될 자리가 원소의 값에 의해 결정되는 자료구조이며, 평균적으로 **상수 시간**에 삽입, 삭제, 검색이 가능하다. 이는 매우 빠른 응답을 요하는 구조에서 유용하게 사용될 수 있다.

## Hashing
![](https://i.imgur.com/RSelvee.png)
입력하고자 하는 데이터의 위치를 얻기 위해 계산하는 과정을 Hashing이라고 한다. 데이터는 Hash Function을 통해 계산되며, 그 결과는 저장되는 공간의 주소가 된다.
![](https://i.imgur.com/rtVrzMs.png)



## 충돌 Collision
해시 테이블의 한 주소를 놓고 두 개 이상의 원소가 자리를 다투는 것을 충돌이라고 한다.

충돌의 해결 방법에는 크게 두 가지가 있다.
1. 체이닝 Chaining
2. 개방주소 방법 Open Addressing

![](https://i.imgur.com/afbrlkF.png)


## 검색시간
- 적재율 **α**
    - **해시 테이블 전체에서 얼마나 원소가 차 있는지를 나타내는 수치**
    - 해시 테이블에 n 개의 원소가 저장되어 있다면 **α = n/m** 이다
- 해시 테이블에서의 **검색 효율**은 **적재율**과 밀접한 관련이 있다
    - 적재율 상승시 충돌 발생이 더 많아지고 검색 효율이 떨어진다.

### 체이닝에서 검색 시

- 정리 1
    - 체이닝을 이용하는 해싱에서 적재율이 α일 때, 실패하는 검색에서 조사 횟수의 기대치는 α이다
        - 찾고자 하는 원소가 없을때는 평균적인 기대치인 $\alpha$개의 원소를 조사하고 나면 끝난다.
- 정리 2
    - 체이닝을 이용하는 해싱에서 적재율이 α일 때, 성공하는 검색에서 조사횟수의 기대치는 **(1 + α)/2 + α/2n** 이다

### 개방주소 방법에서의 검색 시

- 가정
    - 조사순서 $h_0(x), h_1(x), ...,h_{m-1}(x)$가 0부터 m-1 사이의 수로 이루어진 순열을 이루고, 모든 순열은 같은 확률로 일어난다
- 정리 3
    - 적재율 α=n/m 인 개방주소 해싱에서 실패하는 검색에서 조사횟수의 기대치는 최대 **1/(1- α )**이다
- 정리 4
    - 적재율 α=n/m 인 개방주소 해싱에서 성공하는 검색에서 조사횟수의 기대치는 최대 **(1/ α) log(1/(1- α))** 이다

### 적재율이 우려스럽게 높아지면…

- 적재율이 높아지면 일반적으로 해시 테이블의 효율이 떨어진다
- 일반적으로, **임계값**을 미리 설정해 놓고 적재율이 이에 이르면
    - **해시 테이블의 크기를 두 배로 늘인 다음 해시 테이블에 저장되어 있는 모든 원소를 다시해싱하여 저장한다**

## 생각해볼 것
- 적재율이 아주 낮으면 각 조사 방법들이 차이가 많이 나는가?
    - 적재율이 낮다면 충돌이 많이 일어나지 않으므로 두 방식이 크게 차이가 없다. 하지만 적재율이 오를 수록 Open Addressing은 Clustering이 발생하므로 효율이 떨어진다.
