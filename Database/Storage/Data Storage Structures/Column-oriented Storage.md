---
상위 개념: "[[Database]]"
---
# Column-oriented Storage
데이터베이스는 전통적으로 한 레코드에 한 튜플의 모든 속성을 함께 저장하고, 하나의 파일에 여러 튜플이 담긴다.

이와 반대로, 열 지향 저장소(column-oriented storage) 혹은 열 기반 저장소(columnar storage)에서는 각 속성이 별도의 파일에 압축되어 저장된다. 

## 장점
열 지향 저장소는 특정 속성만을 읽어 통계를 내는 데이터 분석 질의에 적합한데, 그 이유는 다음과 같다.

1. I/O 비용이 감소한다. 
수많은 튜플들 중 오직 분석의 대상이 되는 소수의 속성에만 접근하기 때문이다. 불필요한 속성을 메모리로 읽어 올 필요가 없다.
2. 개선된 압축
레코드는 길이도 가변적일 수 있고 다양한 데이터 타입이 모여있기에 압축 방식이 제한된다. 하지만 열 단위 저장은 같은 타입의 값을 함께 저장하기에 압축 효과가 증가한다.
3. 향상된 CPU 캐시 성능
4. 벡터 처리



## 단점
하지만 i 번째 행의 전체 내용에 접근할 경우, 각 파일의 i번째 위치에 있는 값을 조회하여 재구성해야한다. **따라서 릴레이션의 적은 수의 튜플로부터 다수의 속성을 읽어오는 질의에는 적합하지 않다.** 또한 값의 삽입이 여러번 발생하는 경우에도 적합하지 않다. 압축을 푸는 연산이 수행되어야 하기 때문이다.

