---
상위 개념: "[[Normal Forms]]"
---
# 3NF

> 릴레이션이 제 2 정규형에 속하고, PK가 아닌 모든 속성이 PK에 이행적 함수 종속*Transitive Dependency*이 되지 않아야 한다. *All non-PK attributes should not be dependent on other non-PK attributes.*

이행적 함수 종속이란 A→B, B→C 일때, A→C가 성립하는 경우를 의미합니다. 이 문장은 영문을 봤을때 이해하기 훨씬 수월하리라 생각합니다.

![](https://i.imgur.com/kqg4V82.png)

사용자 ID와 사용자의 등급, 그리고 등급에 해당하는 할인율을 갖고있는 릴레이션입니다. 우측은 속성 간 FD를 표현한 다이어그램입니다. 위 릴레이션을 분석해보도록 하겠습니다.

모든 속성이 원자값을 가지므로 위 릴레이션은 제 1 정규형을 만족합니다.

PK가 아닌 모든 속성이 PK에 대해 FFD를 가지는 것으로 보입니다. 위에서 언급했듯이 PFD는 Determinant가 두개 이상에 속성을 보유하고 있을 때 적용될 수 있는 개념이기 때문입니다. {ID}의 부분집합은 공집합을 제외한다면 {ID} 밖에 존재하지 않고, ID를 통해 하나의 등급과 할인율만 결정될 수 있기 때문입니다. 따라서 위 릴레이션은 제 2 정규형을 만족합니다.

제 3 정규형을 따르려면 모든 non-PK 속성이 다른 non-PK 속성에 대해 FD를 가지면 안됩니다. 하지만 위 릴레이션의 경우 non-PK인 등급에 대해 non-PK인 할인율 속성이 FD를 갖고 있습니다. 따라서 위 릴레이션은 제 3 정규형에 위배됩니다. 이러한 문제를 해결하기 위해서 또 분리해야됩니다.

![](https://i.imgur.com/jiV44vm.png)

각각의 릴레이션은 제 1 정규형, 제 2 정규형을 만족합니다. 또한 기존의 non-PK → non-PK FD를 서로 다른 릴레이션으로 분리해서, 이제는 제 3 정규형을 만족하는 릴레이션 집합이 됐습니다.


