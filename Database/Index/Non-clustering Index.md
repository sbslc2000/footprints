---
상위 개념: "[[Ordered Index]]"
---
# Non-clustering Index
Non-clustering Index란 파일의 연속적인 순서와 다른 순서로 구성되는 검색 키의 인덱스를 의미한다. 보조 인덱스*secondary index*라고도 부른다.

보조 인덱스는 항상 밀집 인덱스여야하는데, 그 이유는 검색키의 순서로 파일이 정렬되어있지 않으므로 하나의 키라도 레코드를 가리키지 않으면 해당 키에 대한 레코드를 찾는데 전체탐색을 수행해야하기 때문이다. 이에 반에 클러스터링 인덱스의 경우에는 희소 인덱스를 사용할 수 있다.

보조 인덱스의 순서대로 파일 스캔을 시도한다면, 디스크는 수 많은 Random I/O를 발생시키므로 매우 느리다.

## With Non-unique search key
![](https://i.imgur.com/Gqi4oKI.png)

보조 인덱스의 검색키가 중복이 허용되는 경우, 엔트리의 포인터가 단순히 레코드를 가리켜서는 안된다. 대신 인덱스에 있는 각각의 포인터는 그 파일에 대한 포인터를 담고 있는 버켓*bucket*을 가리켜야 한다. Comp. Sci. 라는 검색키를 갖는 레코드는 3개로, 이를 찾기 위해서는 인덱스에서 Comp. Sci. 에 해당하는 엔트리의 포인터를 통해 버켓에 접근하여 레코드의 포인터를 얻어야 한다.

이러한 방법은 간접 참조로 인하여 I/O 작업을 증가시키고, 중복이 거의 없는 경우 불필요한 공간 낭비를 발생시킨다.


