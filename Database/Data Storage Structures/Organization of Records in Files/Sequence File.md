---
상위 개념: "[[Organization of Records in Files]]"
---
# Sequence File
Sequence File은 레코드의 효율적인 처리를 위해 일부 검색 키를 기반으로 정렬한 순서로 파일 내 레코드를 구성하는 방법이다. 이 때 검색 키는 특정 속성이나 속성들의 집합이 될 수 있으며, 반드시 PK이거나 심지어는 수퍼키일 필요도 없다.

![](https://i.imgur.com/OEhCSK4.png)

검색 키 순서로 레코드를 빨리 탐색하기 위해 레코드를 포인터로 연결한다. 각 블록은 효율적인 탐색을 위해 유사한 검색키가 물리적으로 가깝도록 저장되어야 한다.

 그러나 레코드가 삽입 및 삭제될 때마다 물리적인 순서를 유지하는 것은 여러 레코드를 이동시켜야하므로 비용이 많이 든다. 이를 해결하기 위해 포인터 체인을 사용한다.
![](https://i.imgur.com/lytj5Il.png)

삽입은 다음과 같은 규칙을 따른다.
1. 검색 키 순서로 볼 때 삽입할 레코드 바로 앞에 위치하는 레코드를 파일에서 찾는다.
2. 만약 블록 내에 빈 공간이 있다면 그곳에 새로운 레코드를 삽입한다.
3. 만약 빈 공간이 없다면, 오버플로 블록(overflow block)에 새로운 레코드를 삽입하며, 포인터를 연결시킨다.

이 방법은 임시적으로 문제를 해결하지만, 시간이 지남에 따라 물리적 순서가 완전히 뒤엉키게 될 수 있다. 따라서 시스템 작업량이 적을 때 다시 물리적으로 순차적인 순서가 되도록 파일을 재구성(reorganization)할 필요가 있다.