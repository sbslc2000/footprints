---
상위 개념: "[[../Concurrency Control|Concurrency Control]]"
---
# Lock
잠금은 데이터 항목에 상호 독점적, 혹은 배타적으로 접근하도록 동시 액세스를 제어하는 매커니즘이다.

모든 트랜잭션은 데이터 항목 Q에 대해 어떤 연산을 수행할지에 따라 적절한 모드의 잠금을 동시성 제어 관리자에게 요청(request)해야한다. 이 요청에 따라 동시성 관리 제어자가 해당 트랜잭션에 요청한 잠금을 허용(grant)했을 때 트랜잭션은 자신의 연산을 계속 진행할 수 있다.

## Compatibility
데이터 항목 Q에 대해 만약 $T_j$가 B 모드의 잠금을 가지고 있을 때, $T_i$가 A 모드의 잠금을 얻을 수 있는 경우 A와 B는 서로 호환(compatible)된다고 말한다.

예를 들어 공유 모드의 잠금은 다른 공유 모드의 잠금과는 호환성을 가지지만, 독점적 모드의 잠금과는 호환성을 가지지 않는다.

만약 $T_i$가 어떤 항목에 접근하고자 잠금을 걸려고 하는데 만약 다른 트랜잭션에서 해당 항목에 대해 비호환적인 잠금이 걸려있다면, 동시성 관리 제어자는 해당 항목에 걸려있는 모든 비호환적인 잠금이 해제될 때까지 $T_i$의 잠금 요청을 허용하지 않는다. $T_i$는 대기(wait)해야한다.

