---
상위 개념: "[[../Transaction|Transaction]]"
---
# Transaction Atomicity
트랜잭션이 실패하는 경우, 실패된 트랜잭션은 데이터베이스에 아무런 영향을 주지 않아야 한다. 중단된 트랜잭션이 데이터베이스에 행한 갱신 내용은 모두 이전 상태로 복구되어야 한다. 이 과정을 롤백(rollback)이라고 한다.

트랜잭션의 중단과 롤백은 로그를 유지하는 방법을 통해 이루어진다. 트랜잭션에 데이터베이스에 가한 모든 수정 내용은 먼저 로그에 기록된다. 로그에는 갱신을 수행한 트랜잭션의 식별자와 수정하는 데이터 항목의 식별자 그리고 데이터 항목의 이전 값과 새로운 값을 기록한다. 그 후에야 비로소 데이터베이스에 수정 내용을 반영한다.

로그를 유지함으로써 트랜잭션 수행이 실패하는 경우 원자성을 보장하기 위해 갱신을 되돌릴 수 있고 원자성과 지속성을 보장하기 위해 갱신을 재수행할 수도 있다.


