---
상위 링크: "[[Database]]"
---
# Transaction
트랜잭션(Transaction)이란 **하나의 논리적 작업 단위를 이루는 연산의 집합**이다. 데이터베이스 시스템은 시스템의 오류가 발생하더라도 트랜잭션이 올바른 수행, 즉 트랜잭션을 구성하는 연산이 모두 실행되거나 그렇지 않다면 하나도 실행되지 않음을 보장할 수 있어야 한다(all-or-none).

A가 B에게 송금하는 과정은 A의 잔액 차감과 B의 잔액 증가로 이루어져야하는데, 이러한 작업은 원자적으로 수행되어야 한다. A의 잔액이 차감되었는데 B의 잔액이 증가하지 않는다면 애플리케이션의 무결성이 깨지게 된다. 트랜잭션은 이러한 문제를 해결하기 위해 두 쿼리를 하나의 작업단위로 취급하여 수행시킬 수 있게 해준다.

>[!info]
> 트랜잭션이 실패하는 이유는 쿼리 실패, system halt와 같은 소프트웨어 실패와 정전 등의 이유로 발생하는 하드웨어 실패가 있을 수 있다. DBMS는 이러한 모든 상황에 대비하여 트랜잭션의 원자성을 보장할 수 있도록 구성된다.

대부분의 DBMS는 기본적으로 AUTO_COMMIT 모드를 활성화하여 트랜잭션을 자동으로 관리한다.  하나의 문장이 실행될 때, 사실은 트랜잭션이 열리고 닫히는 과정이 암시적으로 수행된다. 이 상황에서도 BEGIN 등을 통해 트랜잭션을 명시적으로 제어할 수 있다.

트랜잭션과 관련된 SQL 질의문을 TCL이라고 부르기도 한다.

## 명령어
```sql
BEGIN TRANSACTION; -- 트랜잭션 시작을 명시

COMMIT; -- 트랜잭션의 모든 작업을 저장

ROLLBACK; -- 트랜잭션의 작업을 취소하고 기존 상태로 복구
```