---
상위 개념: "[[Log-based Recovery]]"
---
# Undo
Undo란 로그 레코드를 사용하여 데이터베이스에 이미 반영된 변경 사항을 이전 값으로 되돌리는 연산이다.

만약 로그에 <$T_i$ , start> 레코드가 있지만, <$T_i$ commit> 또는 <$T_i$ abort> 레코드가 없는 경우, 트랜잭션 $T_i$는 취소되어야 한다. 이 경우 $T_i$의 데이터베이스 변경들에 대해서 undo 연산을 수행한다.

Undo 연산은 데이터 항목을 이전 값으로 복구할 뿐만 아니라 복구 과정에서 수행하는 갱신 작업에 대한 로그 레코드도 작성한다. 이 때 작성하는 로그 레코드는 이전 값을 가지고 있을 필요가 없다. 이러한 레코드를 Redo 전용 로그 레코드(Redo-only Log Record)라고 한다. 

$T_i$에 대한 undo 연산을 완료하면, undo 작업이 완료되었음을 나타내는 <$T_i$ abort> 로그 레코드를 기록한다.