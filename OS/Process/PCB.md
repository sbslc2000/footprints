---
상위 개념: "[[Process]]"
---
# PCB

운영체제는 메모리에 저장되어 있는 프로세스가 몇개가 있는지, 어디에 있는지, 어떤 상태인지 관리해야할 필요가 있습니다. 따라서 운영체제는 별도의 자료구조를 통해 프로세스들을 관리하는데, 이 자료구조를 **PCB** : Process Control Block라고 부릅니다.
![[Pasted image 20230921221055.png]]
하나의 PCB에는 하나의 프로세스에 대한 정보가 들어있습니다. PCB에는 프로세스의 고유한 식별자, 상태를 비롯하여 CPU에게 전달해야할 Context, 할당되어있는 메모리 공간의 주소, 생성한 사용자 등의 정보가 저장되어 있습니다.

**Context**란 프로세서가 프로세스를 수행하는데 필요한 정보들로, PC(Program Counter), General Purpose Register들을 포함합니다. 아래에서 설명하겠지만 서로 다른 프로그램들은 동시에 돌아가는 것처럼 보여야 하기 때문에, 프로세서는 여러 프로세스를 빠르게 번갈아가면서 수행합니다. 이 과정에서 프로세스가 프로세서를 떠나고 다시 점유할 때, 프로세서에게 “기존에 이 부분에서 끊겼으니 이제는 이 부분부터 수행하면 돼” 라는 이야기를 해줄 주체가 필요합니다. OS는 PCB의 context에 프로세서를 떠나는 시점의 PC와 General Purpose Register를 저장해놓고, 이후 프로세스가 다시 CPU를 점유할 때 해당 값들을 CPU에 제공하여 끊겼던 상태에서부터 프로세스가 다시 수행될 수 있도록 합니다.

결국 운영체제가 프로세스를 생성한다는 것은 디스크에 있는 프로그램을 수행가능한 상태로 만들기 위해 메모리로 로딩하며, 그 과정에서 생성된 프로세스에 대한 메타데이터들을 저장한 PCB를 만들고 운영체제가 관리하고 있는 PCB Table에 저장한다는 것입니다. 이후 PCB는 여러 운영체제의 동작 중에 사용되며, 이후 운영체제는 프로세스의 종료 요청을 받으면 PCB의 정보를 통해 프로세스가 갖고있는 자원들을 모두 반환해준뒤 PCB는 삭제될 것입니다.
