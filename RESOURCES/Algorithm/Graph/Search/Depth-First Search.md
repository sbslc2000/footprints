# DFS
DFS는 한 루트로 탐색하다가 특정 상황에서 최대한 깊숙이 들어가서 확인한 뒤 다시 돌아가 다른 루트로 탐색하는 방식이다. 아래로 갈 수 있는데 까지 갔다가 막히면 되돌아와서 다시 내려간다.
![](https://i.imgur.com/ErLGhpm.png)

## 예시
![](https://i.imgur.com/NlUF5cj.png)
(a) 에서 시작정점 1을 방문하고 하나의 루트를 선정하여 탐색을 시작한다.

여기서 탐색을 어떤 방향으로 시작할지는 구현에 따라 달라질 수 있다.

(b), (c), (d), (e) 에서 각각 방문한 정점으로부터 인접한 정점을 전략에 따라 방문하게 된다. 이후 (e)에서는 인접한 정점 중 방문하지 않은 정점이 없기 때문에 방문했던 경로를 뒤로 되돌아가며 새로운 루트를 탐색한다

![](https://i.imgur.com/jOicJzN.png)
(e) 에서부터 왔던 경로를 되밟아가다가 정점 2에서 인접한 정점 중 방문하지 않은 정점을 찾게 된다. 이후 6을 방문하고 6으로부터 다시 탐색을 시작한다.

7을 방문하고 방문 가능한 정점이 없으므로 되돌아가 6으로 간다. 6에서는 방문 가능한 정점8을 방문함으로써 탐색이 종료된다.

각 정점을 방문할 때 사용했던 간선을 남기면 (i)와 같은 트리가 만들어지는데, 이 트리를 **깊이우선트리**라고 한다. 이 트리 역시 정점 방문 전략에 의해 변경될 수 있다.

## Pseudo Code
![](https://i.imgur.com/V7r1wJb.png)
DFS는 재귀적으로 구현할 수 있다. 이러한 방식은 콜 트리를 쌓게 하여 StackOverflow가 발생할 수 있다. 이 경우 [스택](Stack)을 이용하여 구현해서 호출스택을 없애며 호출로 인한 오버헤드를 줄일 수 있다.

DFS의 수행시간은 $O(V+E)$이다.